{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst dataPicker = document.querySelector('#datetime-picker');\nconst calendar = document.querySelectorAll(\"input\");\nconst startButton = document.querySelector('[data-start]');\n\nconst days = document.querySelector('[data-days]');\nconst hours = document.querySelector('[data-hours]');\nconst minutes = document.querySelector('[data-minutes]');\nconst seconds = document.querySelector('[data-seconds]');\n\n\nlet userSelectedDate;\nlet timer;\n\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    console.log(selectedDates[0]);\n    userSelectedDate = selectedDates[0];\n    if (userSelectedDate < new Date()) {\n      iziToast.warning({ message: 'Please choose a date in the future' ,position: 'topCenter' });\n      startButton.disabled = true;\n    } else {\n      startButton.disabled = false;\n    }\n    if (dataPicker.value === '') {\n      startButton.disabled = true;\n    }\n  },\n};\nstartButton.disabled = true;\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n  return value.padStart(2,\"0\")\n}\nstartButton.addEventListener('click', startTimer);\n\nfunction startTimer() {\n  timer = setInterval(updateTimer, 1000);\n  console.log(timer);\n  dataPicker.disabled = true;\n  startButton.disabled = true;\n}\nfunction updateTimer() {\n  const currentDate = new Date().getTime();\n  const deltaTimer = userSelectedDate.getTime() - currentDate;\n  const converTimer = convertMs(deltaTimer);\n  if (deltaTimer <0) {\n    clearInterval(timer);\n    dataPicker.disabled = false;\n    startButton.disabled = false;\n    return;\n  }\n  days.textContent = addLeadingZero(String(converTimer.days));\n  hours.textContent = addLeadingZero(String(converTimer.hours));\n  minutes.textContent = addLeadingZero(String(converTimer.minutes));\n  seconds.textContent = addLeadingZero(String(converTimer.seconds));\n}\n\nflatpickr('#datetime-picker', options);"],"names":["dataPicker","startButton","days","hours","minutes","seconds","userSelectedDate","timer","options","selectedDates","iziToast","convertMs","ms","addLeadingZero","value","startTimer","updateTimer","currentDate","deltaTimer","converTimer","flatpickr"],"mappings":"iyBAKA,MAAMA,EAAa,SAAS,cAAc,kBAAkB,EAC3C,SAAS,iBAAiB,OAAO,EAClD,MAAMC,EAAc,SAAS,cAAc,cAAc,EAEnDC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAU,SAAS,cAAc,gBAAgB,EAGvD,IAAIC,EACAC,EAGJ,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAC5BH,EAAmBG,EAAc,CAAC,EAC9BH,EAAmB,IAAI,MACzBI,EAAS,QAAQ,CAAE,QAAS,qCAAsC,SAAU,YAAa,EACzFT,EAAY,SAAW,IAEvBA,EAAY,SAAW,GAErBD,EAAW,QAAU,KACvBC,EAAY,SAAW,GAE1B,CACH,EACAA,EAAY,SAAW,GAEvB,SAASU,EAAUC,EAAI,CAQrB,MAAMV,EAAO,KAAK,MAAMU,EAAK,KAAG,EAE1BT,EAAQ,KAAK,MAAOS,EAAK,MAAO,IAAI,EAEpCR,EAAU,KAAK,MAAQQ,EAAK,MAAO,KAAQ,GAAM,EAEjDP,EAAU,KAAK,MAASO,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAV,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAS,CAC1C,CAEA,SAASQ,EAAeC,EAAO,CAC7B,OAAOA,EAAM,SAAS,EAAE,GAAG,CAC7B,CACAb,EAAY,iBAAiB,QAASc,CAAU,EAEhD,SAASA,GAAa,CACpBR,EAAQ,YAAYS,EAAa,GAAI,EACrC,QAAQ,IAAIT,CAAK,EACjBP,EAAW,SAAW,GACtBC,EAAY,SAAW,EACzB,CACA,SAASe,GAAc,CACrB,MAAMC,EAAc,IAAI,KAAM,EAAC,QAAS,EAClCC,EAAaZ,EAAiB,QAAO,EAAKW,EAC1CE,EAAcR,EAAUO,CAAU,EACxC,GAAIA,EAAY,EAAG,CACjB,cAAcX,CAAK,EACnBP,EAAW,SAAW,GACtBC,EAAY,SAAW,GACvB,MACJ,CACEC,EAAK,YAAcW,EAAe,OAAOM,EAAY,IAAI,CAAC,EAC1DhB,EAAM,YAAcU,EAAe,OAAOM,EAAY,KAAK,CAAC,EAC5Df,EAAQ,YAAcS,EAAe,OAAOM,EAAY,OAAO,CAAC,EAChEd,EAAQ,YAAcQ,EAAe,OAAOM,EAAY,OAAO,CAAC,CAClE,CAEAC,EAAU,mBAAoBZ,CAAO"}